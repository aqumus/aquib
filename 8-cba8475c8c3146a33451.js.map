{"version":3,"sources":["webpack:///./node_modules/splitting/dist/splitting.js"],"names":["module","exports","root","document","createText","createTextNode","bind","setProperty","el","varName","value","style","appendChild","child","createElement","parent","key","text","whitespace","className","setAttribute","textContent","getData","getAttribute","$","e","length","nodeName","slice","call","querySelectorAll","Array2D","len","a","each","items","fn","some","selectFrom","obj","plugins","createPlugin","by","depends","split","resolve","resolvePlugins","deps","index","indexOf","unshift","p","indexOfParent","splice","map","add","opts","splitText","splitOn","includePrevious","preserveWhitespace","normalize","elements","F","createDocumentFragment","push","previousSibling","allElements","childNodes","next","tagName","hasChildNodes","apply","wholeText","contents","trim","i","splitEl","innerHTML","wordPlugin","CHARS","charPlugin","options","ctx","results","word","Splitting","target","force","opts2","dest","src","k","copy","plugin","pluginBy","key2","element","prefix","cssVar","Array","isArray","item","classList","detectGrid","side","matching","children","c","w","val","Math","round","Object","keys","Number","sort","byNumber","b","html","content","outerHTML","linePlugin","itemPlugin","rowPlugin","columnPlugin","gridPlugin","layoutPlugin","rows","columns","image","currentSrc","img","totalCells","container","cell","cellRowPlugin","rowCount","result","floor","cellColumnPlugin","columnCount","cellPlugin","opt","factory"],"mappings":"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","file":"8-cba8475c8c3146a33451.js","sourcesContent":["require(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.Splitting = factory();\n})(this, function () {\n  'use strict';\n\n  var root = document;\n  var createText = root.createTextNode.bind(root);\n  /**\n   * # setProperty\n   * Apply a CSS var\n   * @param el{HTMLElement} \n   * @param varName {string} \n   * @param value {string|number}  \n   */\n\n  function setProperty(el, varName, value) {\n    el.style.setProperty(varName, value);\n  }\n  /**\n   * \n   * @param {Node} el \n   * @param {Node} child \n   */\n\n\n  function appendChild(el, child) {\n    return el.appendChild(child);\n  }\n\n  function createElement(parent, key, text, whitespace) {\n    var el = root.createElement('span');\n    key && (el.className = key);\n\n    if (text) {\n      !whitespace && el.setAttribute(\"data-\" + key, text);\n      el.textContent = text;\n    }\n\n    return parent && appendChild(parent, el) || el;\n  }\n\n  function getData(el, key) {\n    return el.getAttribute(\"data-\" + key);\n  }\n  /**\n   * \n   * @param e {import('../types').Target} \n   * @param parent {HTMLElement}\n   * @returns {HTMLElement[]}\n   */\n\n\n  function $(e, parent) {\n    return !e || e.length == 0 ? // null or empty string returns empty array\n    [] : e.nodeName ? // a single element is wrapped in an array\n    [e] : // selector and NodeList are converted to Element[]\n    [].slice.call(e[0].nodeName ? e : (parent || root).querySelectorAll(e));\n  }\n  /**\n   * Creates and fills an array with the value provided\n   * @template {T}\n   * @param {number} len\n   * @param {() => T} valueProvider\n   * @return {T}\n   */\n\n\n  function Array2D(len) {\n    var a = [];\n\n    for (; len--;) {\n      a[len] = [];\n    }\n\n    return a;\n  }\n\n  function each(items, fn) {\n    items && items.some(fn);\n  }\n\n  function selectFrom(obj) {\n    return function (key) {\n      return obj[key];\n    };\n  }\n  /**\n   * # Splitting.index\n   * Index split elements and add them to a Splitting instance.\n   *\n   * @param element {HTMLElement}\n   * @param key {string}\n   * @param items {HTMLElement[] | HTMLElement[][]}\n   */\n\n\n  function index(element, key, items) {\n    var prefix = '--' + key;\n    var cssVar = prefix + \"-index\";\n    each(items, function (items, i) {\n      if (Array.isArray(items)) {\n        each(items, function (item) {\n          setProperty(item, cssVar, i);\n        });\n      } else {\n        setProperty(items, cssVar, i);\n      }\n    });\n    setProperty(element, prefix + \"-total\", items.length);\n  }\n  /**\n   * @type {Record<string, import('./types').ISplittingPlugin>}\n   */\n\n\n  var plugins = {};\n  /**\n   * @param by {string}\n   * @param parent {string}\n   * @param deps {string[]}\n   * @return {string[]}\n   */\n\n  function resolvePlugins(by, parent, deps) {\n    // skip if already visited this dependency\n    var index = deps.indexOf(by);\n\n    if (index == -1) {\n      // if new to dependency array, add to the beginning\n      deps.unshift(by); // recursively call this function for all dependencies\n\n      each(plugins[by].depends, function (p) {\n        resolvePlugins(p, by, deps);\n      });\n    } else {\n      // if this dependency was added already move to the left of\n      // the parent dependency so it gets loaded in order\n      var indexOfParent = deps.indexOf(parent);\n      deps.splice(index, 1);\n      deps.splice(indexOfParent, 0, by);\n    }\n\n    return deps;\n  }\n  /**\n   * Internal utility for creating plugins... essentially to reduce\n   * the size of the library\n   * @param {string} by \n   * @param {string} key \n   * @param {string[]} depends \n   * @param {Function} split \n   * @returns {import('./types').ISplittingPlugin}\n   */\n\n\n  function createPlugin(by, depends, key, split) {\n    return {\n      by: by,\n      depends: depends,\n      key: key,\n      split: split\n    };\n  }\n  /**\n   *\n   * @param by {string}\n   * @returns {import('./types').ISplittingPlugin[]}\n   */\n\n\n  function resolve(by) {\n    return resolvePlugins(by, 0, []).map(selectFrom(plugins));\n  }\n  /**\n   * Adds a new plugin to splitting\n   * @param opts {import('./types').ISplittingPlugin}\n   */\n\n\n  function add(opts) {\n    plugins[opts.by] = opts;\n  }\n  /**\n   * # Splitting.split\n   * Split an element's textContent into individual elements\n   * @param el {Node} Element to split\n   * @param key {string}\n   * @param splitOn {string}\n   * @param includeSpace {boolean}\n   * @returns {HTMLElement[]}\n   */\n\n\n  function splitText(el, key, splitOn, includePrevious, preserveWhitespace) {\n    // Combine any strange text nodes or empty whitespace.\n    el.normalize(); // Use fragment to prevent unnecessary DOM thrashing.\n\n    var elements = [];\n    var F = document.createDocumentFragment();\n\n    if (includePrevious) {\n      elements.push(el.previousSibling);\n    }\n\n    var allElements = [];\n    $(el.childNodes).some(function (next) {\n      if (next.tagName && !next.hasChildNodes()) {\n        // keep elements without child nodes (no text and no children)\n        allElements.push(next);\n        return;\n      } // Recursively run through child nodes\n\n\n      if (next.childNodes && next.childNodes.length) {\n        allElements.push(next);\n        elements.push.apply(elements, splitText(next, key, splitOn, includePrevious, preserveWhitespace));\n        return;\n      } // Get the text to split, trimming out the whitespace\n\n      /** @type {string} */\n\n\n      var wholeText = next.wholeText || '';\n      var contents = wholeText.trim(); // If there's no text left after trimming whitespace, continue the loop\n\n      if (contents.length) {\n        // insert leading space if there was one\n        if (wholeText[0] === ' ') {\n          allElements.push(createText(' '));\n        } // Concatenate the split text children back into the full array\n\n\n        each(contents.split(splitOn), function (splitText, i) {\n          if (i && preserveWhitespace) {\n            allElements.push(createElement(F, \"whitespace\", \" \", preserveWhitespace));\n          }\n\n          var splitEl = createElement(F, key, splitText);\n          elements.push(splitEl);\n          allElements.push(splitEl);\n        }); // insert trailing space if there was one\n\n        if (wholeText[wholeText.length - 1] === ' ') {\n          allElements.push(createText(' '));\n        }\n      }\n    });\n    each(allElements, function (el) {\n      appendChild(F, el);\n    }); // Clear out the existing element\n\n    el.innerHTML = \"\";\n    appendChild(el, F);\n    return elements;\n  }\n  /** an empty value */\n\n\n  var _ = 0;\n\n  function copy(dest, src) {\n    for (var k in src) {\n      dest[k] = src[k];\n    }\n\n    return dest;\n  }\n\n  var WORDS = 'words';\n  var wordPlugin = createPlugin(\n  /*by: */\n  WORDS,\n  /*depends: */\n  _,\n  /*key: */\n  'word',\n  /*split: */\n  function (el) {\n    return splitText(el, 'word', /\\s+/, 0, 1);\n  });\n  var CHARS = \"chars\";\n  var charPlugin = createPlugin(\n  /*by: */\n  CHARS,\n  /*depends: */\n  [WORDS],\n  /*key: */\n  \"char\",\n  /*split: */\n  function (el, options, ctx) {\n    var results = [];\n    each(ctx[WORDS], function (word, i) {\n      results.push.apply(results, splitText(word, \"char\", \"\", options.whitespace && i));\n    });\n    return results;\n  });\n  /**\n   * # Splitting\n   * \n   * @param opts {import('./types').ISplittingOptions} \n   */\n\n  function Splitting(opts) {\n    opts = opts || {};\n    var key = opts.key;\n    return $(opts.target || '[data-splitting]').map(function (el) {\n      var ctx = el['🍌'];\n\n      if (!opts.force && ctx) {\n        return ctx;\n      }\n\n      ctx = el['🍌'] = {\n        el: el\n      };\n      var items = resolve(opts.by || getData(el, 'splitting') || CHARS);\n      var opts2 = copy({}, opts);\n      each(items, function (plugin) {\n        if (plugin.split) {\n          var pluginBy = plugin.by;\n          var key2 = (key ? '-' + key : '') + plugin.key;\n          var results = plugin.split(el, opts2, ctx);\n          key2 && index(el, key2, results);\n          ctx[pluginBy] = results;\n          el.classList.add(pluginBy);\n        }\n      });\n      el.classList.add('splitting');\n      return ctx;\n    });\n  }\n  /**\n   * # Splitting.html\n   * \n   * @param opts {import('./types').ISplittingOptions}\n   */\n\n\n  function html(opts) {\n    opts = opts || {};\n    var parent = opts.target = createElement();\n    parent.innerHTML = opts.content;\n    Splitting(opts);\n    return parent.outerHTML;\n  }\n\n  Splitting.html = html;\n  Splitting.add = add;\n\n  function detectGrid(el, options, side) {\n    var items = $(options.matching || el.children, el);\n    var c = {};\n    each(items, function (w) {\n      var val = Math.round(w[side]);\n      (c[val] || (c[val] = [])).push(w);\n    });\n    return Object.keys(c).map(Number).sort(byNumber).map(selectFrom(c));\n  }\n\n  function byNumber(a, b) {\n    return a - b;\n  }\n\n  var linePlugin = createPlugin(\n  /*by: */\n  'lines',\n  /*depends: */\n  [WORDS],\n  /*key: */\n  'line',\n  /*split: */\n  function (el, options, ctx) {\n    return detectGrid(el, {\n      matching: ctx[WORDS]\n    }, 'offsetTop');\n  });\n  var itemPlugin = createPlugin(\n  /*by: */\n  'items',\n  /*depends: */\n  _,\n  /*key: */\n  'item',\n  /*split: */\n  function (el, options) {\n    return $(options.matching || el.children, el);\n  });\n  var rowPlugin = createPlugin(\n  /*by: */\n  'rows',\n  /*depends: */\n  _,\n  /*key: */\n  'row',\n  /*split: */\n  function (el, options) {\n    return detectGrid(el, options, \"offsetTop\");\n  });\n  var columnPlugin = createPlugin(\n  /*by: */\n  'cols',\n  /*depends: */\n  _,\n  /*key: */\n  \"col\",\n  /*split: */\n  function (el, options) {\n    return detectGrid(el, options, \"offsetLeft\");\n  });\n  var gridPlugin = createPlugin(\n  /*by: */\n  'grid',\n  /*depends: */\n  ['rows', 'cols']);\n  var LAYOUT = \"layout\";\n  var layoutPlugin = createPlugin(\n  /*by: */\n  LAYOUT,\n  /*depends: */\n  _,\n  /*key: */\n  _,\n  /*split: */\n  function (el, opts) {\n    // detect and set options\n    var rows = opts.rows = +(opts.rows || getData(el, 'rows') || 1);\n    var columns = opts.columns = +(opts.columns || getData(el, 'columns') || 1); // Seek out the first <img> if the value is true \n\n    opts.image = opts.image || getData(el, 'image') || el.currentSrc || el.src;\n\n    if (opts.image) {\n      var img = $(\"img\", el)[0];\n      opts.image = img && (img.currentSrc || img.src);\n    } // add optional image to background\n\n\n    if (opts.image) {\n      setProperty(el, \"background-image\", \"url(\" + opts.image + \")\");\n    }\n\n    var totalCells = rows * columns;\n    var elements = [];\n    var container = createElement(_, \"cell-grid\");\n\n    while (totalCells--) {\n      // Create a span\n      var cell = createElement(container, \"cell\");\n      createElement(cell, \"cell-inner\");\n      elements.push(cell);\n    } // Append elements back into the parent\n\n\n    appendChild(el, container);\n    return elements;\n  });\n  var cellRowPlugin = createPlugin(\n  /*by: */\n  \"cellRows\",\n  /*depends: */\n  [LAYOUT],\n  /*key: */\n  \"row\",\n  /*split: */\n  function (el, opts, ctx) {\n    var rowCount = opts.rows;\n    var result = Array2D(rowCount);\n    each(ctx[LAYOUT], function (cell, i, src) {\n      result[Math.floor(i / (src.length / rowCount))].push(cell);\n    });\n    return result;\n  });\n  var cellColumnPlugin = createPlugin(\n  /*by: */\n  \"cellColumns\",\n  /*depends: */\n  [LAYOUT],\n  /*key: */\n  \"col\",\n  /*split: */\n  function (el, opts, ctx) {\n    var columnCount = opts.columns;\n    var result = Array2D(columnCount);\n    each(ctx[LAYOUT], function (cell, i) {\n      result[i % columnCount].push(cell);\n    });\n    return result;\n  });\n  var cellPlugin = createPlugin(\n  /*by: */\n  \"cells\",\n  /*depends: */\n  ['cellRows', 'cellColumns'],\n  /*key: */\n  \"cell\",\n  /*split: */\n  function (el, opt, ctx) {\n    // re-index the layout as the cells\n    return ctx[LAYOUT];\n  }); // install plugins\n  // word/char plugins\n\n  add(wordPlugin);\n  add(charPlugin);\n  add(linePlugin); // grid plugins\n\n  add(itemPlugin);\n  add(rowPlugin);\n  add(columnPlugin);\n  add(gridPlugin); // cell-layout plugins\n\n  add(layoutPlugin);\n  add(cellRowPlugin);\n  add(cellColumnPlugin);\n  add(cellPlugin);\n  return Splitting;\n});"],"sourceRoot":""}